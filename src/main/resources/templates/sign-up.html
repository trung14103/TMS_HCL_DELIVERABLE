<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org" >
<head>
    <meta charset="UTF-8">
    <title>Sign Up</title>
<!--    <link rel="icon" type="image/png" th:href="@{/images/logo-small.png}"/>-->
    <!-- Font Icon -->
    <link rel="stylesheet" th:href="@{/fonts/material-icon/css/material-design-iconic-font.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/fonts/font-awesome-4.7.0/css/font-awesome.min.css}">

    <!-- Main css -->
    <link rel="stylesheet" type="text/css" th:href="@{/vendor/bootstrap/css/bootstrap.min.css}">

    <link rel="stylesheet" th:href="@{/css/style-signin.css}">
</head>
<body>
    <div class="container mt-3" >
        <!-- Sign up form -->
        <section class="signup">
            <div class="container">
                <div class="signup-content">
                    <div class="signup-form">
                        <div style="text-align: left">
                            <a href="/">
                                <i class="fa fa-home" style="font-size:25px"></i>
                            </a>
                        </div>
                        <h2 class="form-title">Sign Up</h2>
                        <div th:if="${param.exit_username}">
                            <div style="font-family: Arial, Helvetica, sans-serif" class="alert alert-danger">
                                Username is Invalid!
                            </div>
                        </div>
                        <form th:action="@{/user/register}" th:object="${user}" method="POST" class="register-form" id="register-form">
                            <div class="form-group">
                                <label for="userName"><i class="zmdi zmdi-account material-icons-name ml-3"></i></label>
                                <input type="text" class="ml-2" th:field="*{userName}" name="userName" id="userName" placeholder="Username" required/>
                            </div>
                            <span style="color: red" id="checkUserName"></span>

                            <div class="form-group">
                                <label for="email"><i class="zmdi zmdi-email ml-3"></i></label>
                                <input type="email" class="ml-2"  th:field="*{email}" name="email" id="email" placeholder="Email" required/>
                            </div>
                            <div class="form-group">
                                <label for="password"><i class="zmdi zmdi-lock ml-3"></i></label>
                                <input type="password" class="ml-2"  th:field="*{password}" name="password" id="password" placeholder="Password" required/>
                            </div>
                            <div class="form-group">
                                <label for="re_pass"><i class="zmdi zmdi-lock-outline ml-3"></i></label>
                                <input type="password" class="ml-2"  name="re_pass" id="re_pass" placeholder="Confirm Password" required/>
                            </div>
                            <span style="color: red" id="compare"></span>

                            <div class="form-group">
                                <input type="checkbox" name="agree-term" id="agree-term" class="agree-term" checked required/>
                                <label style="font-family: Arial, Helvetica, sans-serif" for="agree-term" class="label-agree-term"><span><span></span></span>Agree with our<a href="#" class="term-service" style="color: #007bff">terms</a>.</label>
                            </div>
                            <div class="form-group form-button">
                                <!--<input  name="signup" id="" class="form-submit" value="Sign Up"/>-->
                                <input type="submit" name="signup" id="signup" class="form-submit " value="Sign Up" />
                            </div>
                        </form>
                    </div>
                    <div class="signup-image">
                        <figure><img th:src="@{/images/signup-image.jpg}" alt="sing up image"></figure>
                        <a style="font-family: Arial, Helvetica, sans-serif" href="/user/sign-in" class="signup-image-link">Sign In</a>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <script th:src="@{/js/jquery.min.js}"></script>
    <script>
        $('#re_pass').on("keyup",function () {
            var pass=$('#password').val();
            var re_pass=$('#re_pass').val();
            if(pass!=re_pass){
                $('#signup').attr('disabled');
                $('#compare').text("Password is not matched");
            } else{
                $('#compare').text("");

            }
        });

        // $('#userName').on("keyup",function () {
        //     var userName=$('#userName').val();
        //     var data={
        //         userName:userName
        //     };
        //     console.log("data: ",data);
        //     $.ajax({
        //         url: '/api/user/check',
        //         data: JSON.stringify(data),
        //         type:"POST",
        //         dataType:"json",
        //         contentType: "application/json",
        //         success: function (data) {
        //             console.log("value: ",data);
        //             if (data.success === true) {
        //                 $('#checkUserName').text("");
        //             }
        //             else {
        //                 $('#checkUserName').text("Username is already existed.");
        //             }
        //         }.bind(this),
        //         error: function (e) {
        //             console.log(e);
        //         }
        //
        //     });
        // });
    </script>
</body>
</html>